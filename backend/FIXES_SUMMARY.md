# Исправления ошибок сортировки

## Проблема
Ошибка `TypeError: '<' not supported between instances of 'NoneType' and 'NoneType'` возникала в функции `sort_by_relevance` при попытке сортировки результатов с `None` значениями в поле `relevance_score`.

## Исправления

### 1. backend/amazon.py
- **Функция `matches_query`**: Добавлены явные возвраты `float` значений вместо `None` или `False`
- **Обработка `relevance_score`**: Добавлена проверка на `None` и преобразование в `float`

### 2. backend/allegro_enhanced.py
- **Функция `search_products`**: Добавлена обработка ошибок в сортировке с использованием `try-except`
- **Сортировка**: Исправлена логика сортировки для обработки `None` значений

### 3. backend/app.py
- **Функция `sort_by_relevance`**: Уже была исправлена ранее для обработки `None` значений
- **Обработка ошибок**: Добавлена дополнительная обработка ошибок в функции `search`

## Результат
✅ Все ошибки сортировки исправлены
✅ Приложение корректно обрабатывает `None` значения в `relevance_score`
✅ Сортировка работает стабильно для всех типов данных

## Тестирование
- ✅ Функция `sort_by_relevance` протестирована с различными типами данных
- ✅ Импорты всех модулей работают корректно
- ✅ Flask приложение запускается без ошибок 